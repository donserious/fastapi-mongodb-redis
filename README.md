## данный репозиторий представляет собой 3 проекта демонстрирующих архитектурные возможности стека fastapi + mongodb + redis
mongo-sharding - демонстрация шардинга
mongo-sharding-repl - демонстрация шардинга + репликация шардов
sharding-repl-cache - демонстрация шардинга + репликация шардов + кеширование

## Как запустить

Можно зайти в каждую папку и запустить приложение используя docker-compose:

```shell
docker compose up -d
```

Затем инициализируем кластер mongodb и заполняем его данными с помощью скрипта bash:

```shell
./scripts/setup-cluster.sh
```
в конце выведется количество вставленных записей из монго роутера и шардов

## Как проверить

### Если вы запускаете проект на локальной машине

Откройте в браузере http://localhost:8080

Откройте в браузере http://<ip виртуальной машины>:8080

## Доступные эндпоинты

Список доступных эндпоинтов, swagger http://<ip виртуальной машины>:8080/docs

## как остановить

```shell
docker compose down
```
после удалить созданные докером volume:
docker volume ls
docker volume rm name_volume1 name_volume2 ....